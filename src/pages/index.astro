---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import Stats from "../components/Stats.astro";
import Eventdetails from "../components/Eventdetails.astro";
import RSVPForm from "../components/RSVPForm.astro";
import Footer from "../components/Footer.astro";
---

<Layout title="Francisco | Mi Primer AÃ±ito">
  <Hero />

  <div class="relative w-full leading-none z-10 text-sky-50 -mt-1">
    <svg
      class="block w-full h-16 md:h-24 bg-white"
      viewBox="0 0 1440 320"
      preserveAspectRatio="none"
    >
      <path
        fill="currentColor"
        d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
      ></path>
    </svg>
  </div>

  <Stats />
  <Eventdetails />
  <RSVPForm />
  <Footer />

  <script>
    // Animaciones al hacer Scroll
    function reveal() {
      const reveals = document.querySelectorAll(".reveal");
      reveals.forEach((el) => {
        const windowHeight = window.innerHeight;
        const elementTop = el.getBoundingClientRect().top;
        if (elementTop < windowHeight - 100) el.classList.add("active");
      });
    }
    window.addEventListener("scroll", reveal);
    reveal();

    // Cuenta Regresiva
    const weddingDate = new Date("Mar 7, 2026 13:00:00").getTime();
    setInterval(() => {
      const now = new Date().getTime();
      const distance = weddingDate - now;
      if (distance < 0) return;

      const d = Math.floor(distance / (1000 * 60 * 60 * 24));
      const h = Math.floor((distance % 86400000) / 3600000);
      const m = Math.floor((distance % 3600000) / 60000);
      const s = Math.floor((distance % 60000) / 1000);

      const setVal = (id, val) => {
        const el = document.getElementById(id);
        if (el) el.innerText = val.toString().padStart(2, "0");
      };

      setVal("days", d);
      setVal("hours", h);
      setVal("minutes", m);
      setVal("seconds", s);
    }, 1000);
  </script>
</Layout>
